/**
 * i18n - Internationalization
 */

const translations = {
  en: {
    // Tabs
    tabCookies: 'Cookies',
    tabExport: 'Export',
    tabImport: 'Import',
    tabProfiles: 'Profiles',
    
    // Cookies tab
    searchCookies: 'Search cookies...',
    allDomains: 'All domains',
    deleteAll: 'Delete All',
    noCookiesFound: 'No cookies found',
    
    // Export
    security: 'Security',
    aesEncryption: 'AES-256 Encryption',
    format: 'Format',
    filter: 'Filter',
    currentSiteOnly: 'Current site only',
    customDomain: 'Custom domain',
    excludeTrackers: 'Exclude known trackers',
    total: 'Total',
    selected: 'Selected',
    exportCookies: 'Export Cookies',
    
    // Import
    encryptedFile: 'Encrypted file?',
    fileIsEncrypted: 'File is encrypted',
    options: 'Options',
    overwriteExisting: 'Overwrite existing cookies',
    previewBefore: 'Preview before import',
    dropFileHere: 'Drop file here',
    orClickToSelect: 'or click to select',
    preview: 'Preview',
    cancel: 'Cancel',
    import: 'Import',
    importing: 'Importing...',
    imported: 'Imported',
    failed: 'Failed',
    
    // Profiles
    saveProfile: 'Save Current Profile',
    profileName: 'Profile name...',
    savedProfiles: 'Saved Profiles',
    noProfiles: 'No profiles saved yet',
    autoBackup: 'Auto Backup',
    enableAutoBackup: 'Enable auto backup',
    everyHour: 'Every hour',
    every6Hours: 'Every 6 hours',
    everyDay: 'Every day',
    everyWeek: 'Every week',
    neverBackedUp: 'Never backed up',
    lastBackup: 'Last backup:',
    
    // Settings
    settings: 'Settings',
    language: 'Language',
    trackerDomains: 'Tracker domains',
    keyboardShortcuts: 'Keyboard Shortcuts',
    quickExport: 'Quick Export',
    quickImport: 'Open Import',
    
    // Edit cookie
    editCookie: 'Edit Cookie',
    name: 'Name',
    value: 'Value',
    domain: 'Domain',
    path: 'Path',
    expiration: 'Expiration',
    delete: 'Delete',
    save: 'Save',
    
    // Messages
    exportSuccess: 'cookies exported!',
    importSuccess: 'All cookies imported!',
    importPartial: 'Done! Some cookies failed.',
    noCookiesToExport: 'No cookies to export',
    invalidFile: 'Invalid file format',
    wrongPassword: 'Wrong password',
    passwordRequired: 'File is encrypted. Enter password.',
    passwordTooShort: 'Password must be at least 4 characters',
    profileSaved: 'Profile saved!',
    profileLoaded: 'Profile loaded!',
    profileDeleted: 'Profile deleted',
    cookieDeleted: 'Cookie deleted',
    cookieSaved: 'Cookie saved',
    cookies: 'cookies',
    domains: 'domains'
  },
  
  fr: {
    // Tabs
    tabCookies: 'Cookies',
    tabExport: 'Exporter',
    tabImport: 'Importer',
    tabProfiles: 'Profils',
    
    // Cookies tab
    searchCookies: 'Rechercher des cookies...',
    allDomains: 'Tous les domaines',
    deleteAll: 'Tout supprimer',
    noCookiesFound: 'Aucun cookie trouvé',
    
    // Export
    security: 'Sécurité',
    aesEncryption: 'Chiffrement AES-256',
    format: 'Format',
    filter: 'Filtrer',
    currentSiteOnly: 'Site actuel uniquement',
    customDomain: 'Domaine personnalisé',
    excludeTrackers: 'Exclure les trackers connus',
    total: 'Total',
    selected: 'Sélectionnés',
    exportCookies: 'Exporter les cookies',
    
    // Import
    encryptedFile: 'Fichier chiffré ?',
    fileIsEncrypted: 'Le fichier est chiffré',
    options: 'Options',
    overwriteExisting: 'Écraser les cookies existants',
    previewBefore: 'Aperçu avant import',
    dropFileHere: 'Déposez le fichier ici',
    orClickToSelect: 'ou cliquez pour sélectionner',
    preview: 'Aperçu',
    cancel: 'Annuler',
    import: 'Importer',
    importing: 'Importation...',
    imported: 'Importés',
    failed: 'Échoués',
    
    // Profiles
    saveProfile: 'Sauvegarder le profil actuel',
    profileName: 'Nom du profil...',
    savedProfiles: 'Profils sauvegardés',
    noProfiles: 'Aucun profil sauvegardé',
    autoBackup: 'Sauvegarde auto',
    enableAutoBackup: 'Activer la sauvegarde auto',
    everyHour: 'Chaque heure',
    every6Hours: 'Toutes les 6 heures',
    everyDay: 'Chaque jour',
    everyWeek: 'Chaque semaine',
    neverBackedUp: 'Jamais sauvegardé',
    lastBackup: 'Dernière sauvegarde :',
    
    // Settings
    settings: 'Paramètres',
    language: 'Langue',
    trackerDomains: 'Domaines trackers',
    keyboardShortcuts: 'Raccourcis clavier',
    quickExport: 'Export rapide',
    quickImport: 'Ouvrir Import',
    
    // Edit cookie
    editCookie: 'Modifier le cookie',
    name: 'Nom',
    value: 'Valeur',
    domain: 'Domaine',
    path: 'Chemin',
    expiration: 'Expiration',
    delete: 'Supprimer',
    save: 'Sauvegarder',
    
    // Messages
    exportSuccess: 'cookies exportés !',
    importSuccess: 'Tous les cookies importés !',
    importPartial: 'Terminé ! Certains cookies ont échoué.',
    noCookiesToExport: 'Aucun cookie à exporter',
    invalidFile: 'Format de fichier invalide',
    wrongPassword: 'Mot de passe incorrect',
    passwordRequired: 'Le fichier est chiffré. Entrez le mot de passe.',
    passwordTooShort: 'Le mot de passe doit faire au moins 4 caractères',
    profileSaved: 'Profil sauvegardé !',
    profileLoaded: 'Profil chargé !',
    profileDeleted: 'Profil supprimé',
    cookieDeleted: 'Cookie supprimé',
    cookieSaved: 'Cookie sauvegardé',
    cookies: 'cookies',
    domains: 'domaines'
  },
  
  es: {
    // Tabs
    tabCookies: 'Cookies',
    tabExport: 'Exportar',
    tabImport: 'Importar',
    tabProfiles: 'Perfiles',
    
    // Cookies tab
    searchCookies: 'Buscar cookies...',
    allDomains: 'Todos los dominios',
    deleteAll: 'Eliminar todo',
    noCookiesFound: 'No se encontraron cookies',
    
    // Export
    security: 'Seguridad',
    aesEncryption: 'Cifrado AES-256',
    format: 'Formato',
    filter: 'Filtrar',
    currentSiteOnly: 'Solo sitio actual',
    customDomain: 'Dominio personalizado',
    excludeTrackers: 'Excluir rastreadores conocidos',
    total: 'Total',
    selected: 'Seleccionados',
    exportCookies: 'Exportar Cookies',
    
    // Import
    encryptedFile: '¿Archivo cifrado?',
    fileIsEncrypted: 'El archivo está cifrado',
    options: 'Opciones',
    overwriteExisting: 'Sobrescribir cookies existentes',
    previewBefore: 'Vista previa antes de importar',
    dropFileHere: 'Soltar archivo aquí',
    orClickToSelect: 'o clic para seleccionar',
    preview: 'Vista previa',
    cancel: 'Cancelar',
    import: 'Importar',
    importing: 'Importando...',
    imported: 'Importados',
    failed: 'Fallidos',
    
    // Profiles
    saveProfile: 'Guardar perfil actual',
    profileName: 'Nombre del perfil...',
    savedProfiles: 'Perfiles guardados',
    noProfiles: 'No hay perfiles guardados',
    autoBackup: 'Copia de seguridad auto',
    enableAutoBackup: 'Activar copia automática',
    everyHour: 'Cada hora',
    every6Hours: 'Cada 6 horas',
    everyDay: 'Cada día',
    everyWeek: 'Cada semana',
    neverBackedUp: 'Nunca respaldado',
    lastBackup: 'Última copia:',
    
    // Settings
    settings: 'Configuración',
    language: 'Idioma',
    trackerDomains: 'Dominios rastreadores',
    keyboardShortcuts: 'Atajos de teclado',
    quickExport: 'Exportar rápido',
    quickImport: 'Abrir Importar',
    
    // Edit cookie
    editCookie: 'Editar Cookie',
    name: 'Nombre',
    value: 'Valor',
    domain: 'Dominio',
    path: 'Ruta',
    expiration: 'Expiración',
    delete: 'Eliminar',
    save: 'Guardar',
    
    // Messages
    exportSuccess: 'cookies exportadas!',
    importSuccess: '¡Todas las cookies importadas!',
    importPartial: '¡Listo! Algunas cookies fallaron.',
    noCookiesToExport: 'No hay cookies para exportar',
    invalidFile: 'Formato de archivo inválido',
    wrongPassword: 'Contraseña incorrecta',
    passwordRequired: 'El archivo está cifrado. Ingrese la contraseña.',
    passwordTooShort: 'La contraseña debe tener al menos 4 caracteres',
    profileSaved: '¡Perfil guardado!',
    profileLoaded: '¡Perfil cargado!',
    profileDeleted: 'Perfil eliminado',
    cookieDeleted: 'Cookie eliminada',
    cookieSaved: 'Cookie guardada',
    cookies: 'cookies',
    domains: 'dominios'
  }
};

let currentLang = 'en';

function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem('cookieManagerLang', lang);
  document.documentElement.lang = lang;
}

function t(key) {
  return translations[currentLang]?.[key] || translations['en'][key] || key;
}

function loadLanguage() {
  const saved = localStorage.getItem('cookieManagerLang');
  if (saved && translations[saved]) {
    currentLang = saved;
  } else {
    // Detect browser language
    const browserLang = navigator.language.split('-')[0];
    if (translations[browserLang]) {
      currentLang = browserLang;
    }
  }
  document.documentElement.lang = currentLang;
}

// Initialize
loadLanguage();
